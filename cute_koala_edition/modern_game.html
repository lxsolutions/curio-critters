<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåü Curio Critters - Ultimate Adventure! üêæ‚ú®</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Nunito:wght@400;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(45deg, #FF6B9D, #C44569, #F8B500, #FF9F43, #6C5CE7, #A29BFE);
            background-size: 400% 400%;
            animation: gradientShift 12s ease infinite;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 100% 100%; }
            75% { background-position: 0% 100%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating Background Elements */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            animation: float 8s ease-in-out infinite;
            opacity: 0.6;
        }

        .floating-element:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
        .floating-element:nth-child(2) { top: 20%; right: 15%; animation-delay: 1s; }
        .floating-element:nth-child(3) { bottom: 30%; left: 20%; animation-delay: 2s; }
        .floating-element:nth-child(4) { bottom: 15%; right: 25%; animation-delay: 3s; }
        .floating-element:nth-child(5) { top: 50%; left: 5%; animation-delay: 4s; }
        .floating-element:nth-child(6) { top: 70%; right: 10%; animation-delay: 5s; }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            33% { transform: translateY(-30px) rotate(120deg) scale(1.1); }
            66% { transform: translateY(15px) rotate(240deg) scale(0.9); }
        }

        /* Main Game Container */
        .game-container {
            display: grid;
            grid-template-areas: 
                "header header header"
                "sidebar main-game right-panel"
                "bottom-nav bottom-nav bottom-nav";
            grid-template-columns: 320px 1fr 320px;
            grid-template-rows: 80px 1fr 100px;
            height: 100vh;
            gap: 12px;
            padding: 12px;
            position: relative;
            z-index: 2;
        }

        /* Header */
        .game-header {
            grid-area: header;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 3px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, #FF6B9D, #C44569);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 3px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .player-details h2 {
            font-family: 'Fredoka One', cursive;
            font-size: 18px;
            color: #2D3436;
            margin: 0;
        }

        .player-level {
            font-size: 12px;
            color: #636E72;
            font-weight: 600;
        }

        .resources {
            display: flex;
            gap: 20px;
        }

        .resource {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.8);
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid rgba(255,255,255,0.5);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .resource:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.95);
        }

        .resource-icon {
            font-size: 18px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .resource-amount {
            font-weight: 700;
            color: #2D3436;
            font-size: 14px;
        }

        /* Sidebar */
        .sidebar {
            grid-area: sidebar;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow-y: auto;
            animation: slideInLeft 0.8s ease-out;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .sidebar-section {
            margin-bottom: 25px;
        }

        .section-title {
            font-family: 'Fredoka One', cursive;
            font-size: 16px;
            color: #2D3436;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title-icon {
            font-size: 20px;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Main Game Area */
        .main-game {
            grid-area: main-game;
            background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,255,255,0.92));
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 25px;
            border: 3px solid rgba(255,255,255,0.4);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Interactive Game World */
        .game-world {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, #74B9FF, #0984E3, #00CEC9, #00B894);
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
        }

        .world-layer {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .sky-layer {
            background: linear-gradient(to bottom, #74B9FF 0%, #81ECEC 100%);
            animation: skyShift 20s ease-in-out infinite;
        }

        @keyframes skyShift {
            0%, 100% { background: linear-gradient(to bottom, #74B9FF 0%, #81ECEC 100%); }
            50% { background: linear-gradient(to bottom, #FD79A8 0%, #FDCB6E 100%); }
        }

        .clouds {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .cloud {
            position: absolute;
            background: rgba(255,255,255,0.8);
            border-radius: 50px;
            animation: cloudFloat 15s linear infinite;
        }

        .cloud:before {
            content: '';
            position: absolute;
            background: rgba(255,255,255,0.8);
            border-radius: 50px;
        }

        .cloud1 {
            width: 80px;
            height: 40px;
            top: 10%;
            left: -100px;
            animation-duration: 20s;
        }

        .cloud1:before {
            width: 50px;
            height: 50px;
            top: -25px;
            left: 10px;
        }

        .cloud2 {
            width: 60px;
            height: 30px;
            top: 20%;
            left: -80px;
            animation-duration: 25s;
            animation-delay: -5s;
        }

        .cloud2:before {
            width: 40px;
            height: 40px;
            top: -20px;
            left: 15px;
        }

        @keyframes cloudFloat {
            from { transform: translateX(0); }
            to { transform: translateX(calc(100vw + 100px)); }
        }

        /* Character */
        .character {
            position: absolute;
            bottom: 30%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 80px;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: characterIdle 3s ease-in-out infinite;
            z-index: 10;
        }

        .character:hover {
            transform: translateX(-50%) scale(1.1);
        }

        .character:active {
            transform: translateX(-50%) scale(0.95);
        }

        @keyframes characterIdle {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        /* Interactive Elements */
        .interactive-element {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: elementPulse 2s ease-in-out infinite;
        }

        .interactive-element:hover {
            transform: scale(1.2);
            filter: brightness(1.2);
        }

        @keyframes elementPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .tree {
            top: 40%;
            left: 20%;
            font-size: 60px;
            animation-delay: 0s;
        }

        .flower {
            bottom: 25%;
            right: 30%;
            font-size: 40px;
            animation-delay: 1s;
        }

        .butterfly {
            top: 30%;
            right: 20%;
            font-size: 30px;
            animation: butterflyFly 4s ease-in-out infinite;
        }

        @keyframes butterflyFly {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(20px, -10px) rotate(5deg); }
            50% { transform: translate(-10px, -20px) rotate(-5deg); }
            75% { transform: translate(-20px, 10px) rotate(5deg); }
        }

        .treasure {
            bottom: 35%;
            left: 70%;
            font-size: 35px;
            animation-delay: 2s;
        }

        /* Right Panel */
        .right-panel {
            grid-area: right-panel;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            overflow-y: auto;
            animation: slideInRight 0.8s ease-out;
        }

        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Bottom Navigation */
        .bottom-nav {
            grid-area: bottom-nav;
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 15px;
            border: 3px solid rgba(255,255,255,0.3);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .nav-button {
            background: linear-gradient(135deg, #FF6B9D, #C44569);
            border: none;
            border-radius: 20px;
            padding: 15px 25px;
            color: white;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #FD79A8, #E84393);
        }

        .nav-button:active {
            transform: translateY(-1px);
        }

        .nav-button.active {
            background: linear-gradient(135deg, #00B894, #00CEC9);
        }

        .nav-icon {
            font-size: 18px;
        }

        /* Activity Cards */
        .activity-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
        }

        .activity-title {
            font-family: 'Fredoka One', cursive;
            font-size: 14px;
            color: #2D3436;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .activity-description {
            font-size: 11px;
            color: #636E72;
            line-height: 1.4;
        }

        /* Progress Bars */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(0,0,0,0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00B894, #00CEC9);
            border-radius: 4px;
            transition: width 0.5s ease;
            animation: progressGlow 2s ease-in-out infinite;
        }

        @keyframes progressGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(0,184,148,0.5); }
            50% { box-shadow: 0 0 15px rgba(0,184,148,0.8); }
        }

        /* Particle Effects */
        .particle {
            position: absolute;
            pointer-events: none;
            animation: particleFloat 3s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0);
            }
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,255,255,0.92));
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            border: 3px solid rgba(255,255,255,0.5);
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from { transform: scale(0.8) translateY(50px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .game-container {
                grid-template-columns: 280px 1fr 280px;
            }
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-areas: 
                    "header"
                    "main-game"
                    "bottom-nav";
                grid-template-columns: 1fr;
                grid-template-rows: 80px 1fr 100px;
            }
            
            .sidebar, .right-panel {
                display: none;
            }
        }

        /* Touch Feedback */
        .touch-feedback {
            position: relative;
            overflow: hidden;
        }

        .touch-feedback::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.5);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.3s ease, height 0.3s ease;
        }

        .touch-feedback:active::after {
            width: 200px;
            height: 200px;
        }
    </style>
</head>
<body>
    <!-- Floating Background Elements -->
    <div class="floating-elements">
        <div class="floating-element">‚≠ê</div>
        <div class="floating-element">üí´</div>
        <div class="floating-element">üåü</div>
        <div class="floating-element">‚ú®</div>
        <div class="floating-element">üíñ</div>
        <div class="floating-element">ü¶ã</div>
    </div>

    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="player-info">
                <div class="player-avatar">üê®</div>
                <div class="player-details">
                    <h2>Koko's Adventure</h2>
                    <div class="player-level">Level 8 Explorer</div>
                </div>
            </div>
            <div class="resources">
                <div class="resource touch-feedback" onclick="showResourceInfo('stickers')">
                    <span class="resource-icon">üéÅ</span>
                    <span class="resource-amount" id="stickers">1250</span>
                </div>
                <div class="resource touch-feedback" onclick="showResourceInfo('hearts')">
                    <span class="resource-icon">üíï</span>
                    <span class="resource-amount" id="hearts">670</span>
                </div>
                <div class="resource touch-feedback" onclick="showResourceInfo('stars')">
                    <span class="resource-icon">‚≠ê</span>
                    <span class="resource-amount" id="stars">2840</span>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üìä</span>
                    Koko's Stats
                </h3>
                <div class="activity-card">
                    <div class="activity-title">üíñ Happiness</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 85%"></div>
                    </div>
                    <div class="activity-description">85/100 - Super Happy!</div>
                </div>
                <div class="activity-card">
                    <div class="activity-title">üèÉ Energy</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 78%"></div>
                    </div>
                    <div class="activity-description">78/100 - Ready to play!</div>
                </div>
                <div class="activity-card">
                    <div class="activity-title">üß† Intelligence</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 92%"></div>
                    </div>
                    <div class="activity-description">92/100 - Genius level!</div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üéØ</span>
                    Daily Quests
                </h3>
                <div class="activity-card touch-feedback" onclick="startQuest('play')">
                    <div class="activity-title">üéà Play Time</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%"></div>
                    </div>
                    <div class="activity-description">Play 3 mini-games (2/3)</div>
                </div>
                <div class="activity-card touch-feedback" onclick="startQuest('learn')">
                    <div class="activity-title">üìö Learning Adventure</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 33%"></div>
                    </div>
                    <div class="activity-description">Complete 3 lessons (1/3)</div>
                </div>
                <div class="activity-card touch-feedback" onclick="startQuest('explore')">
                    <div class="activity-title">üó∫Ô∏è Explorer</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 80%"></div>
                    </div>
                    <div class="activity-description">Visit 5 locations (4/5)</div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üèÜ</span>
                    Achievements
                </h3>
                <div class="activity-card touch-feedback" onclick="openAchievements()">
                    <div class="activity-title">üåü Recent Unlock</div>
                    <div class="activity-description">üé® Creative Genius - Complete 10 art activities!</div>
                </div>
                <div class="activity-card touch-feedback" onclick="openAchievements()">
                    <div class="activity-title">üìà Progress</div>
                    <div class="activity-description">5/25 achievements unlocked</div>
                </div>
            </div>
        </aside>

        <!-- Main Game Area -->
        <main class="main-game">
            <div class="game-world" onclick="interactWithWorld(event)">
                <!-- Sky Layer -->
                <div class="world-layer sky-layer"></div>
                
                <!-- Clouds -->
                <div class="clouds">
                    <div class="cloud cloud1"></div>
                    <div class="cloud cloud2"></div>
                </div>

                <!-- Interactive Elements -->
                <div class="interactive-element tree" onclick="interactWithElement('tree', event)">üå≥</div>
                <div class="interactive-element flower" onclick="interactWithElement('flower', event)">üå∏</div>
                <div class="interactive-element butterfly" onclick="interactWithElement('butterfly', event)">ü¶ã</div>
                <div class="interactive-element treasure" onclick="interactWithElement('treasure', event)">üíé</div>

                <!-- Main Character -->
                <div class="character" onclick="interactWithCharacter(event)" id="mainCharacter">üê®</div>
            </div>
        </main>

        <!-- Right Panel -->
        <aside class="right-panel">
            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üêæ</span>
                    My Critters
                </h3>
                <div class="activity-card touch-feedback" onclick="openCritterCollection()">
                    <div class="activity-title">üê® Koko</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%"></div>
                    </div>
                    <div class="activity-description">Level 8 Adult Explorer</div>
                </div>
                <div class="activity-card touch-feedback" onclick="unlockCritter('bella')">
                    <div class="activity-title">üê∞ Bella (Locked)</div>
                    <div class="activity-description">Complete friendship quest to unlock!</div>
                </div>
                <div class="activity-card touch-feedback" onclick="openBreedingLab()">
                    <div class="activity-title">üß¨ Breeding Lab</div>
                    <div class="activity-description">Discover new critter combinations!</div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üìñ</span>
                    Story Mode
                </h3>
                <div class="activity-card touch-feedback" onclick="openStoryMode()">
                    <div class="activity-title">üå≥ Chapter 1</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 33%"></div>
                    </div>
                    <div class="activity-description">Welcome to Eucalyptus Grove (Scene 1/3)</div>
                </div>
                <div class="activity-card touch-feedback">
                    <div class="activity-title">üåà Chapter 2 (Locked)</div>
                    <div class="activity-description">Complete Chapter 1 to unlock!</div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3 class="section-title">
                    <span class="section-title-icon">üéÅ</span>
                    Daily Rewards
                </h3>
                <div class="activity-card touch-feedback" onclick="claimDailyReward()">
                    <div class="activity-title">üéâ Day 3 Bonus</div>
                    <div class="activity-description">Claim your daily reward!</div>
                </div>
            </div>
        </aside>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-button active touch-feedback" onclick="switchMode('play')">
                <span class="nav-icon">üéÆ</span>
                <span>Play</span>
            </button>
            <button class="nav-button touch-feedback" onclick="switchMode('learn')">
                <span class="nav-icon">üìö</span>
                <span>Learn</span>
            </button>
            <button class="nav-button touch-feedback" onclick="switchMode('create')">
                <span class="nav-icon">üé®</span>
                <span>Create</span>
            </button>
            <button class="nav-button touch-feedback" onclick="switchMode('explore')">
                <span class="nav-icon">üó∫Ô∏è</span>
                <span>Explore</span>
            </button>
            <button class="nav-button touch-feedback" onclick="switchMode('social')">
                <span class="nav-icon">üë´</span>
                <span>Friends</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    <div id="gameModal" class="modal">
        <div class="modal-content">
            <div id="modalContent">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            player: {
                name: "Koko",
                level: 8,
                xp: 2840,
                happiness: 85,
                energy: 78,
                intelligence: 92
            },
            resources: {
                stickers: 1250,
                hearts: 670,
                stars: 2840
            },
            currentMode: 'play',
            animations: true,
            soundEnabled: true
        };

        // Initialize Game
        function initGame() {
            console.log("üåü Curio Critters - Ultimate Adventure Started! üêæ");
            createParticleEffects();
            startBackgroundAnimations();
            updateUI();
        }

        // Particle Effects
        function createParticleEffects() {
            setInterval(() => {
                if (Math.random() < 0.3) {
                    createParticle();
                }
            }, 2000);
        }

        function createParticle() {
            const particles = ['‚ú®', '‚≠ê', 'üí´', 'üåü', 'üíñ', 'ü¶ã'];
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.textContent = particles[Math.floor(Math.random() * particles.length)];
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = window.innerHeight + 'px';
            particle.style.fontSize = (Math.random() * 20 + 15) + 'px';
            
            document.body.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 3000);
        }

        // Character Interactions
        function interactWithCharacter(event) {
            event.stopPropagation();
            const character = document.getElementById('mainCharacter');
            
            // Add bounce animation
            character.style.animation = 'none';
            setTimeout(() => {
                character.style.animation = 'characterIdle 3s ease-in-out infinite';
            }, 100);
            
            // Create interaction effects
            createInteractionEffect(event.clientX, event.clientY, 'üíï');
            
            // Update happiness
            gameState.player.happiness = Math.min(100, gameState.player.happiness + 2);
            updateUI();
            
            // Show random interaction message
            const messages = [
                "Koko loves your attention! üíï",
                "Koko is so happy to see you! üåü",
                "Koko wants to play! üéà",
                "Koko learned something new! üìö"
            ];
            showNotification(messages[Math.floor(Math.random() * messages.length)]);
        }

        function interactWithElement(elementType, event) {
            event.stopPropagation();
            
            const interactions = {
                tree: {
                    effect: 'üçÉ',
                    message: "You found some leaves! Koko loves nature! üåø",
                    reward: { stickers: 10 }
                },
                flower: {
                    effect: 'üå∫',
                    message: "Beautiful flowers! Koko's happiness increased! üå∏",
                    reward: { hearts: 5 }
                },
                butterfly: {
                    effect: 'ü¶ã',
                    message: "A magical butterfly! You earned some stars! ‚ú®",
                    reward: { stars: 15 }
                },
                treasure: {
                    effect: 'üíé',
                    message: "Treasure found! Amazing discovery! üèÜ",
                    reward: { stickers: 25, hearts: 10, stars: 20 }
                }
            };
            
            const interaction = interactions[elementType];
            if (interaction) {
                createInteractionEffect(event.clientX, event.clientY, interaction.effect);
                showNotification(interaction.message);
                
                // Award rewards
                Object.entries(interaction.reward).forEach(([resource, amount]) => {
                    gameState.resources[resource] += amount;
                });
                
                updateUI();
            }
        }

        function interactWithWorld(event) {
            // Create ripple effect at click location
            createRippleEffect(event.clientX, event.clientY);
            
            // Random world interactions
            if (Math.random() < 0.2) {
                const surprises = [
                    { effect: 'üåü', message: "You found a hidden star!" },
                    { effect: 'üéÅ', message: "A surprise gift appeared!" },
                    { effect: 'ü¶ã', message: "A butterfly landed near you!" }
                ];
                
                const surprise = surprises[Math.floor(Math.random() * surprises.length)];
                createInteractionEffect(event.clientX, event.clientY, surprise.effect);
                showNotification(surprise.message);
            }
        }

        // Visual Effects
        function createInteractionEffect(x, y, emoji) {
            const effect = document.createElement('div');
            effect.textContent = emoji;
            effect.style.position = 'fixed';
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            effect.style.fontSize = '24px';
            effect.style.pointerEvents = 'none';
            effect.style.zIndex = '1000';
            effect.style.animation = 'particleFloat 2s ease-out forwards';
            
            document.body.appendChild(effect);
            
            setTimeout(() => {
                effect.remove();
            }, 2000);
        }

        function createRippleEffect(x, y) {
            const ripple = document.createElement('div');
            ripple.style.position = 'fixed';
            ripple.style.left = (x - 25) + 'px';
            ripple.style.top = (y - 25) + 'px';
            ripple.style.width = '50px';
            ripple.style.height = '50px';
            ripple.style.borderRadius = '50%';
            ripple.style.background = 'rgba(255,255,255,0.5)';
            ripple.style.pointerEvents = 'none';
            ripple.style.zIndex = '999';
            ripple.style.animation = 'rippleExpand 0.6s ease-out forwards';
            
            document.body.appendChild(ripple);
            
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }

        // Add ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rippleExpand {
                0% {
                    transform: scale(0);
                    opacity: 1;
                }
                100% {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // UI Functions
        function switchMode(mode) {
            gameState.currentMode = mode;
            
            // Update active button
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.nav-button').classList.add('active');
            
            // Show mode-specific content
            showModeContent(mode);
        }

        function showModeContent(mode) {
            const content = {
                play: {
                    title: "üéÆ Play Mode",
                    description: "Choose a fun mini-game to play with Koko!",
                    activities: [
                        { name: "üéØ Target Practice", desc: "Help Koko hit the targets!" },
                        { name: "üß© Puzzle Time", desc: "Solve puzzles together!" },
                        { name: "üéµ Music Maker", desc: "Create beautiful melodies!" },
                        { name: "üèÉ Adventure Run", desc: "Run and collect treasures!" }
                    ]
                },
                learn: {
                    title: "üìö Learn Mode",
                    description: "Educational adventures await!",
                    activities: [
                        { name: "üî¢ Math Magic", desc: "Learn numbers with fun!" },
                        { name: "üî§ Letter Land", desc: "Explore the alphabet!" },
                        { name: "üåç World Explorer", desc: "Discover amazing places!" },
                        { name: "üî¨ Science Lab", desc: "Conduct cool experiments!" }
                    ]
                },
                create: {
                    title: "üé® Create Mode",
                    description: "Express your creativity!",
                    activities: [
                        { name: "üñåÔ∏è Art Studio", desc: "Paint beautiful pictures!" },
                        { name: "üèóÔ∏è Builder Mode", desc: "Build amazing structures!" },
                        { name: "üìñ Story Writer", desc: "Create your own stories!" },
                        { name: "üé≠ Costume Designer", desc: "Design outfits for Koko!" }
                    ]
                },
                explore: {
                    title: "üó∫Ô∏è Explore Mode",
                    description: "Discover new worlds!",
                    activities: [
                        { name: "üèîÔ∏è Mountain Peak", desc: "Climb to new heights!" },
                        { name: "üèñÔ∏è Sunny Beach", desc: "Play in the sand!" },
                        { name: "üå≤ Magic Forest", desc: "Find hidden treasures!" },
                        { name: "üè∞ Castle Adventure", desc: "Explore the royal castle!" }
                    ]
                },
                social: {
                    title: "üë´ Friends Mode",
                    description: "Connect with other players!",
                    activities: [
                        { name: "üëã Say Hello", desc: "Meet new friends!" },
                        { name: "üéÅ Send Gifts", desc: "Share with others!" },
                        { name: "üèÜ Competitions", desc: "Friendly challenges!" },
                        { name: "üì∏ Photo Share", desc: "Show your adventures!" }
                    ]
                }
            };
            
            showModal(content[mode]);
        }

        function showModal(content) {
            const modal = document.getElementById('gameModal');
            const modalContent = document.getElementById('modalContent');
            
            modalContent.innerHTML = `
                <h2 style="font-family: 'Fredoka One', cursive; color: #2D3436; margin-bottom: 20px; text-align: center;">
                    ${content.title}
                </h2>
                <p style="text-align: center; margin-bottom: 25px; color: #636E72; font-size: 14px;">
                    ${content.description}
                </p>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                    ${content.activities.map(activity => `
                        <div class="activity-card touch-feedback" onclick="startActivity('${activity.name}')" style="margin-bottom: 0;">
                            <div class="activity-title">${activity.name}</div>
                            <div class="activity-description">${activity.desc}</div>
                        </div>
                    `).join('')}
                </div>
                <button onclick="closeModal()" style="
                    background: linear-gradient(135deg, #FF6B9D, #C44569);
                    border: none;
                    border-radius: 15px;
                    padding: 12px 25px;
                    color: white;
                    font-family: 'Nunito', sans-serif;
                    font-weight: 700;
                    cursor: pointer;
                    margin: 20px auto 0;
                    display: block;
                    transition: all 0.3s ease;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    Close
                </button>
            `;
            
            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('gameModal').style.display = 'none';
        }

        function startActivity(activityName) {
            closeModal();
            showNotification(`Starting ${activityName}! Get ready for fun! üéâ`);
            
            // Award XP for starting activities
            gameState.player.xp += 10;
            gameState.resources.stickers += 5;
            updateUI();
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.left = '50%';
            notification.style.transform = 'translateX(-50%)';
            notification.style.background = 'linear-gradient(135deg, #00B894, #00CEC9)';
            notification.style.color = 'white';
            notification.style.padding = '15px 25px';
            notification.style.borderRadius = '25px';
            notification.style.fontFamily = "'Nunito', sans-serif";
            notification.style.fontWeight = '600';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '2000';
            notification.style.boxShadow = '0 8px 25px rgba(0,0,0,0.2)';
            notification.style.animation = 'slideDown 0.5s ease-out, fadeOut 0.5s ease-out 2.5s forwards';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function updateUI() {
            document.getElementById('stickers').textContent = gameState.resources.stickers;
            document.getElementById('hearts').textContent = gameState.resources.hearts;
            document.getElementById('stars').textContent = gameState.resources.stars;
        }

        // Quest Functions
        function startQuest(questType) {
            const quests = {
                play: "Let's play some mini-games! üéÆ",
                learn: "Time for a learning adventure! üìö",
                explore: "Let's explore new places! üó∫Ô∏è"
            };
            
            showNotification(quests[questType]);
            showModeContent(questType);
        }

        // Resource Functions
        function showResourceInfo(resourceType) {
            const info = {
                stickers: "üéÅ Stickers - Earn by completing activities and quests!",
                hearts: "üíï Hearts - Show love to your critters to earn more!",
                stars: "‚≠ê Stars - Unlock by achieving great things!"
            };
            
            showNotification(info[resourceType]);
        }

        // Placeholder functions for existing features
        function openCritterCollection() {
            showNotification("üêæ Opening Critter Collection! Manage your adorable friends!");
        }

        function openBreedingLab() {
            showNotification("üß¨ Welcome to the Breeding Lab! Discover new critter combinations!");
        }

        function openStoryMode() {
            showNotification("üìñ Continuing your story adventure! Chapter 1 awaits!");
        }

        function openAchievements() {
            showNotification("üèÜ Achievement Gallery opened! Check your progress!");
        }

        function claimDailyReward() {
            gameState.resources.stickers += 50;
            gameState.resources.hearts += 25;
            gameState.resources.stars += 75;
            updateUI();
            showNotification("üéâ Daily reward claimed! Come back tomorrow for more!");
        }

        function unlockCritter(critterName) {
            showNotification(`üê∞ ${critterName} wants to be your friend! Complete the friendship quest!`);
        }

        // Background Animations
        function startBackgroundAnimations() {
            // Add more dynamic background effects
            setInterval(() => {
                if (Math.random() < 0.1) {
                    createRandomFloatingElement();
                }
            }, 5000);
        }

        function createRandomFloatingElement() {
            const elements = ['üåü', '‚ú®', 'üí´', 'ü¶ã', 'üå∏', 'üçÉ'];
            const element = document.createElement('div');
            element.textContent = elements[Math.floor(Math.random() * elements.length)];
            element.className = 'floating-element';
            element.style.position = 'fixed';
            element.style.left = Math.random() * window.innerWidth + 'px';
            element.style.top = '-50px';
            element.style.fontSize = (Math.random() * 15 + 20) + 'px';
            element.style.animation = 'float 10s linear forwards';
            element.style.zIndex = '1';
            
            document.body.appendChild(element);
            
            setTimeout(() => {
                element.remove();
            }, 10000);
        }

        // Add fade out animation
        const additionalStyle = document.createElement('style');
        additionalStyle.textContent = `
            @keyframes fadeOut {
                0% { opacity: 1; transform: translateX(-50%) translateY(0); }
                100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        document.head.appendChild(additionalStyle);

        // Initialize the game when page loads
        document.addEventListener('DOMContentLoaded', initGame);

        // Handle modal clicks
        document.getElementById('gameModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>